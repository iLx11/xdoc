# 术语解释

- **极对数**（ $p$）：电机转子中N-S极的对数，2，3，4，……
- **相数**（ $m$ ）：电机绕组个数，3，6，12，……
- **电角度**（ $\theta_{e}$ ）/ **机械角度**（$\theta$ ）

$$
\begin{aligned}
\theta_{e} = p \cdot \theta \\
\theta_{e} = \int \omega_edt
\end{aligned}
$$

- **电角频率**（ $\omega_e$ ）/ **机械角频率**（ $\Omega$ ）：

$$
\omega_e = p \ \cdot \Omega
$$

- **电角频率与电机转速**（ $n$ ）：

$$
n = 60 \omega_e / p
$$

- **极**（$2p$）**槽**（$Z$）配合：

$$
Z/2P
$$

- **相电压**：电机相绕组对电机中性点电压
- **线电压**：电机两相绕组之间电压
- **反电动势**：电机到拖时某一转速下对应电机线电压峰值



# 无刷直流 

**（Brushless Direct Current， BLDC）**

BLDC 电机不用电刷来换向，而是使用电子换向。BLDC 电机和有刷直流电机以及感应电机相比，有许多优点。其中包括：

• 更好的转速－转矩特性

• 快速动态响应

• 高效率

• 使用寿命长

• 运转无噪音

• 较高的转速范围

此外，由于输出转矩与电机体积之比更高，使之在需要着重考虑空间与重量因素的应用中，大有用武之地。

**BLDC电机是同步电机中的一种。** 也就是说，定子产生的磁场与转子产生的磁场具有相同的频率。BLDC电机不会遇到感应电机中常见的“差频”问题。

**BLDC电机可配置为单相、两相和三相。** 定子绕组的数量与其类型对应。三相电机最受欢迎，使用最普遍。

## 定子

BLDC电机的定子由铸钢叠片组成

**有两种类型的定子绕组：梯形和正弦电机。**以定子绕组中线圈的互连方式为依据来区分这两种电机，不同的连接方式会产生不同类型的反电动势（Electromotive Force，EMF）。

梯形电机具有梯形的反电动势，正弦电机具有正弦形式的反电动势。除了反电动势外，两类电机中的相电流也有梯形和正弦之分。这就使正弦电机输出的转矩比梯形电机平滑。但是，随之会带来额外的成本，这是因为正弦电机中线圈在定子圆周上的分布形式会使绕组之间有额外的互连，从而增加了耗铜量。

## 转子

**转子用永磁体制成，可有2到8对磁极，南磁极和北磁极交替排列**。
要根据转子中需要的磁场密度选择制造转子的合适磁性材料。传统使用铁氧体来制造永磁体。随着技术的进步，稀土合金磁体正越来越受欢迎。铁氧体比较便宜，但缺点是给定体积的磁通密度低。

## 霍尔传感器

BLDC电机的换向是以电子方式控制的。要使BLDC电机转动，必须按一定的顺序给定子绕组通电。为了确定按照通电顺序哪一个绕组将得电，知道转子的位置很重要。**转子的位置由定子中嵌入的霍尔效应传感器检测。**

多数BLDC电机在其非驱动端上的定子中嵌入了三个霍尔传感器。
**每当转子磁极经过霍尔传感器附近时，它们便会发出一个高电平或低电平信号，表示北磁极或南磁极正经过该传感器。**根据这三个霍尔传感器信号的组合，就能决定换向的精确顺序。

> **霍尔效应原理：** 磁场会对位于其中的带电导体内运动的电荷载流子施加一个垂直于其运动方向的力，该力会使正负电荷分别积聚到导体的两侧。这在薄而平的导体中尤为明显。电荷在导体两侧的积累会平衡磁场的影响，在导体两侧建立稳定的电势差。产生这一电势差的过程就叫做霍尔效应，由E. H. Hall在1879年发现。

**BLDC 电机横截面：**

![image-20250422204009790](https://picr.oss-cn-qingdao.aliyuncs.com/img/image-20250422204009790.png)

## 工作原理

每次换向，都有一个绕组连到控制电源的正极（电流进入绕组），第二个绕组连到负极（电流从中流出），第三个处于失电状态。

**转矩是由定子线圈产生的磁场和永磁体之间的相互作用产生的。理想状态下，转矩峰值出现在两个磁场正交时，而在两磁场平行时最弱。** 为了保持电机转动，由定子绕组产生的磁场应不断变换位置，因为转子会向着与定子磁场平行的方向旋转。“六步换向”定义了给绕组加电的顺序。

## 电角度与机械角度 

机械角度是指轮子实际转过的物理角度，比如我们用手转动电机运转一圈，对应的机械角度转动360°。

电角度指电机转子在电机内转过的磁场角度，每经过一次南北极的变化为一个电角度周期，也即360°，如下图所示：

![在这里插入图片描述](https://picr.oss-cn-qingdao.aliyuncs.com/img/74b9b402f2e33bb69cddec3767141c02.png)  
上图中电机有两对磁极，极对数为2，所以电角度转过360°，对应机械角度将转过 360°/2 = 180°；

## 换向顺序

每转过60个电角度，其中一个霍尔传感器就会改变状态。因此，完成电周期需要六步。在同步模式下，每转过60个电角度相电流切换一次。但是，一个电周期可能并不对应于完整的转子机械转动周期。完成一圈机械转动要重复的电周期数取决于转子磁极的对数。每对转子磁极需要完成一个电周期。因此，电周期数/转数等于转子磁极对数。

**霍尔传感器信号相对反电动势和相电流变化的示例。**

![image-20250422144758128](https://picr.oss-cn-qingdao.aliyuncs.com/img/image-20250422144758128.png)

**按照霍尔传感器信号应遵循的切换顺序。**

![image-20250422144922892](https://picr.oss-cn-qingdao.aliyuncs.com/img/image-20250422144922892.png)

**控制BLDC电机的控制器的框图。**

![image-20250422145236707](https://picr.oss-cn-qingdao.aliyuncs.com/img/image-20250422145236707.png)

**从非驱动端看，顺时针方向转动电机的顺序**：

![image-20250422204332232](https://picr.oss-cn-qingdao.aliyuncs.com/img/image-20250422204332232.png)

**逆时针转动电机顺序**：

![image-20250422204448711](https://picr.oss-cn-qingdao.aliyuncs.com/img/image-20250422204448711.png)



## 闭环控制

**可通过测量电机的实际转速来对转速进行闭环控制。** 首先计算设定转速和实际转速间的误差。可以用比例-积分-微分（Proportional plus Integral plus Derivative，P.I.D.）控制器放大转速误差，动态调整PWM占空比。

**对于低成本、低分辨率的转速要求，** 可用霍尔信号测量转速反馈。可以用PIC18FXX31中的定时器计算霍尔信号两个边沿间的时间，并用该时间计算电机的实际转速。

**对于高分辨率转速测量**，可在电机上安装光电式编码器，它能给出具有90度相位差的两个信号。用这些信号可以判定转速和转向。同时，多数编码器还给出第三个索引信号，电机每转动一周发出一个脉冲。

**电流闭环控制结构：**

![image-20250423155829334](https://picr.oss-cn-qingdao.aliyuncs.com/img/image-20250423155829334.png)

## 反电动势的定义

BLDC电机转动时，每个绕组都会产生叫做反电动势（反电动势）的电压，根据楞次定律，其方向与提供给绕组的主电压相反。这一反电动势的极性与励磁电压相反。反电动势主要取决于三个因素

- 转子角速度
- 转子磁体产生的磁场
- 定子绕组的匝数

$$
反电动势 = (E) ∝ NlrBω
$$

**N是每相绕组的匝数，l是转子的长度，r是转子的内径，B是转子磁场密度，ω是电机的角速度**

电机设计完毕后，转子磁场和定子绕组的匝数都是固定的。唯一决定反电动势的因素就是角速度，或者说转子转速，随着转子转速的提高，反电动势也随之增加。电机技术规范提供了一个称为反电动势常数的参数，可用于估计给定转速下的反电动势。

**绕组两端的压降可通过从供电电压中减去反电动势值算出**。使用反电动势常数设计电机的方法如下：

当电机以额定转速运行时，反电动势和供电电压间的电势差足以使电机消耗额定电流，提供额定转矩。如果电机转速超过额定转速，反电动势会显著增长，从而降低绕组两端的压降，减小电流，从而导致转矩曲线下降。

转速曲线上最后一点表示供电电压等于反电动势与电机中压降损耗之和，此时电流和转矩都等于0。

## BLDC电机的无传感器控制

BLDC电机还可通过监视反电动势信号，而不是霍尔传感器信号来换向。霍尔传感器信号和反电动势之间的关系（相对于相电压）参考上图 1。

**要考虑的另一个方面是电机转速极慢的情况。** 由于反电动势与转子转速成正比，在极慢的转速下反电动势的幅值很低，很难检测到过零点。因此，当电机从静止状态起动时必须采用开环控制，待有足以检测到过零点的反电动势时，才转而采用反电动势检测控制。可检测到反电动势的最低转速可通过该电机的反电动势常数算出。

## 为应用选择合适的电机参数

为给定应用选择正确的电机类型很重要。必须根据负载特性选择参数正确的电机。为给定应用选择电机要考虑三个参数。它们是：

- 该应用所需的峰值转矩
- 需要的RMS转矩
- 工作转速范围

### 峰值转矩（TP）要求

**该应用所需的峰值（或者说最大值）转矩可以通过将负载转矩（TL）、惯性转矩（TJ）和克服摩擦所需的转矩（TF）相加得到。**

还有一些因素会对峰值转矩的总体要求有影响。例如，气隙中的空气电阻造成的风阻损失。
$$
T_P = (T_L + T_J + T_F) * 1.2
$$
**惯性转矩（TJ）是将负载从静止加速，或者从低速加速到高速所需的转矩。** 这可以通过将包括转矩惯量在内的负载惯量和负载加速度相乘而算出。
$$
T_J= (J_L + M) *α
$$
其中：

**$JL + M$ 是负载与转子惯量之和，α 是所需加速度**

连接到电机轴上的机械系统决定了负载转矩和摩擦转矩。

### RMS转矩要求（TRMS）

均方根（Root Mean Square，RMS）转矩可粗略地理解为该应用所需的平均连续转矩。**这取决于许多因素。峰值转矩（TP）、负载转矩（TL）、惯性转矩（TJ）、摩擦转矩（TF）和加速、减速及起动次数。**

以下公式给出了典型应用所需的RMS转矩，**其中TA是加速时间，TR是起动时间，而TD是减速时间。**
$$
\begin{aligned}  
TRMS = \sqrt{\frac{T_P^2 T_A + (T_L + T_F)^2T_R + (T_J - T_L - T_F)^2T_D}{T_A + T_R + T_D} } 
\end{aligned}
$$

## 电机技术规范参数

| 电气参数       | 典型符号 | 单位                  | 定义                                                         |
| -------------- | -------- | --------------------- | ------------------------------------------------------------ |
| 参考电压       | $V$      | 伏特                  | 这是额定的端电压。                                           |
| 额定电流       | $I_r$    | 安培                  | 电机提供额定转矩时其消耗的电流。                             |
| 峰值电流(停转) | $l_{pk}$ | 安培                  | 这是允许电机消耗的最大电流。                                 |
| 无负载电流     | $I_{NL}$ | 安培                  | 电机轴上无负载时电机消耗的电流。                             |
| 反电动势常数   | $K_E$    | $V/RPM$ 或 $V/rad/s$  | 可用该参数估计给定转速下的反电动势。                         |
| 电阻           | $R$      | 欧姆                  | 每个定子绕组的电阻。                                         |
| 电感           | $L$      | $mH$                  | 绕组电感。它和电阻一起可用于确定绕组的总阻抗,以便计算该电 机的电气时间常数。 |
| 电机常数       | $K_M$    | $Oz-in/√W$ 或 $NM/NW$ | 转矩与功率之比。                                             |
| 电气时间常数   | $τE$     | $ms$                  | 根据绕组的R和L计算得出。                                     |

-

| 机械参数           | 典型符号       | 单位                | 定义                                                         |
| ------------------ | -------------- | ------------------- | ------------------------------------------------------------ |
| 转速               | $N$            | $RPM$ 或$rad/s$     | 电机的额定转速。                                             |
| 连续转矩           | $T_C$          | $Oz-in$ 或 $N-M$    | 在给定的转速范围内,轴所能提供的转矩。                        |
| 峰值转矩或停转转矩 | $T_{pk}$       | $Oz-in$ 或 $N-M$    | 这是电机可在短时间内提供的最大转矩。该转矩可能并非对所有转 速范围都可用。 |
| 转矩常数           | $K_t$          | $Oz-in$ 或 $N-M$    | 这是电机对其消耗的每安培电流产生的转矩。由于转矩随电流线性 变化,该参数可用于使用插值算法估算给定电流下所提供的转矩, 反之亦然。 |
| 摩擦转矩           | $T_F$          | $Oz-in$ 或 $N-M$    | 这是由于摩擦(主要包括轴承摩擦)损失的转矩。                   |
| 转子惯性           | $J_M$          | $Oz-in-s2/N-M-s^2$  | 转子转动惯量。这对确定加速度和减速度、系统动态响应以及转子 的机械时间常数很有用。 |
| 粘性阻尼           | $D$            | $Oz-in/RPM或 N-M-s$ |                                                              |
| 阻尼常数           | $K_D$          | $Oz-in/RPM或 N-M-s$ |                                                              |
| 温度               | $T$            | F或℃                | 工作环境温度。                                               |
| 最高绕组温度       | $\theta_{max}$ | F或℃                | 允许的最高绕组温度。如果绕组温度超过该限制,绕组泄漏电流会 增大,可能导致绕组损坏。 |
| 热阻               | $R_{TH}$       | °F/W或°C/W          | 电机对环境的热阻。                                           |
| 温度时间常数       | $tTH$          | min                 | 基于热阻的时间常数。有散热器的电机比无散热器的电机的时间常 数高。 |